<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible"
        content="IE=edge">
    <title>AdminLTE 3 | User Profile</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport"
        content="width=device-width, initial-scale=1">
</head>

<style>
    .textover {
        display: block;
        display: -webkit-box;
        line-height: 1;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 100%;
        margin: 0 auto;
        line-height: normal;
    }

    .mysearch {
        position: absolute;
        background-color: white !important;
        width: 100%;
        overflow: auto;
        z-index: 1;
        padding: 0 !important;
        margin: 0 !important;

    }

    .mysearch a {
        background-color: white !important;
        color: black;
        padding: 15px 5px 15px 5px;
        text-decoration: none;
        display: block;
        margin: none;
        border-radius: 10px;
        /* border-bottom:2px solid gray;
      border-left:2px solid gray;
      border-right:2px solid gray */

    }

    .myimg {
        max-width: 70px;
        border-radius: 5px;
    }

    .mysearch a:hover {
        /* background-color: #343A40;
      color:white; */
        filter: brightness(90%);
        cursor: pointer;

    }

    .my-p {
        text-align: center;
        cursor: pointer;
        border-top: 1px solid gray;
        border-bottom: 1px solid gray;
    }

    #myInput {
        box-sizing: border-box;
        background-repeat: no-repeat;
        width: 100%;
        font-size: 16px;
        margin: none;
        padding: 5px;
        padding-left: 35px;
        border-bottom-left-radius: none !important;
        border-bottom-right-radius: none !important;
    }

    .my-tab {
        padding: 5px;
    }

    #tab_item {
        margin: 10px;
        padding: 5px;
    }

    #tab_item:hover {
        filter: brightness(90%);
        cursor: pointer;
    }

    .mycard:hover {
        cursor: pointer;
        filter: brightness(90%);
    }

    /* toast */
    .my-toast {
        margin: 10px 20px 5px 10px;
        padding: 20px;
        min-width: 250px;
        max-width: 250px;
        max-height: 150px;
    }

    .my-toast-wrapper {
        overflow: auto;
        position: absolute;
        top: 0;
        right: 0;
        z-index: 2;
    }

    .my-toast-wrapper:hover {
        cursor: pointer;

    }

    .my-toast:hover {
        filter: brightness(90%);
    }

    td.mytd {
        vertical-align: middle;
        text-align: center;
    }
</style>

<body class="hold-transition sidebar-mini">

    <div class="wrapper">
        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-white navbar-light">
            <!-- Left navbar links -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link"
                        data-widget="pushmenu"
                        href="#"
                        role="button"><i class="fas fa-bars"></i></a>
                </li>

            </ul>
            <!-- mytoast -->
            <ul class="my-toast-wrapper">
                <li class="card my-toast"
                    [ngClass]="toast_type(e.type)"
                    [ngStyle]="toast_color(e.type)"
                    *ngFor="let e of err"
                    (click)="dismiss_err(e)">
                    <div class="row">
                        <div *ngIf="e.type === 'danger' "><i class="fas fa-exclamation-circle"></i></div>
                        <div *ngIf="e.type === 'success' "><i class="fas fa-check-circle"></i></div>
                        <div *ngIf="e.type === 'warning' "><i class="fas fa-exclamation-triangle"></i></div>
                        <div *ngIf="e.type === 'info' "><i class="fas fa-info-circle"></i></div>
                        <div class="col">
                            <div *ngIf="err.length !== 0">{{e.message}}</div>
                        </div>
                    </div>
                </li>

            </ul>
            <div class="container-fluid">
                <div class="col-sm-6">
                    <div class="col-sm-12">
                        <div class="input-group">
                            <div class="input-group-append">

                                <span *ngIf="searchTerm === undefined"><button class="btn"
                                        style="color:gray"><i class="fas fa-search"></i></button></span>
                                <span *ngIf="searchTerm !== undefined || searchTerm === ' ' ">
                                    <button class="btn"
                                        style="color:gray"
                                        (click)="input_close()">
                                        <span *ngIf="searchTerm !== ''"><i class="fas fa-times"></i></span>
                                        <span *ngIf="searchTerm === ''"><i class="fas fa-search"></i></span>
                                    </button>
                                </span>

                                <div class="mysearch">
                                    <input id="myInput"
                                        placeholder="Find product..."
                                        [(ngModel)]="searchTerm"
                                        (ngModelChange)="search()"
                                        (focus)="input_focus()">
                                    <div class="my-result">
                                        <a *ngFor="let item of PSET_ARR.slice(0,3); let x = index"
                                            (click)="find_product(item)">
                                            <div class="container mycon">
                                                <div class="row">
                                                    <div class="col">
                                                        <img class="myimg"
                                                            src="https://picsum.photos/200">
                                                    </div>
                                                    <div class="col">
                                                        <b>{{item.product_name}} </b>
                                                        <div>#{{item.product_id}}</div>
                                                    </div>
                                                    <div class="col">
                                                        <table>
                                                            <tr>
                                                                <td>In stock:</td>
                                                                <td>{{item.product_stock}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Bought:</td>
                                                                <td>{{item.product_bought}}</td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                </div>

                                            </div>
                                        </a>
                                        <p class="my-p"
                                            *ngIf="PSET_ARR.length>3">
                                            <b>There are {{PSET_ARR.length - 3}} more results matches...</b>
                                        </p>

                                        <a
                                            *ngIf="PSET_ARR.length === 0 && searchTerm !== undefined && searchTerm !== ''">
                                            <div class="container mycon">
                                                <div class="row">
                                                    <div class="col">
                                                        <p style="text-align: center;"> <b> 0 result matches
                                                            </b></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="input-group col-sm-12">
                        <div class="input-group-prepend">
                            <button class="btn btn-secondary"
                                type="button"
                                id="dropdownMenuButton"
                                data-toggle="dropdown"
                                aria-haspopup="true"
                                aria-expanded="false">
                                Employee
                            </button>
                            <div class="dropdown-menu "
                                style="position: absolute;"
                                aria-labelledby="dropdownMenuButton"
                                *ngFor="let i of infoarr">
                                <div class="dropdown-item text-left">
                                    <i class="fas fa-user"></i>
                                    {{i.admin_name}}
                                </div>
                                <div class="dropdown-item text-left">
                                    <i class="fas fa-at"></i>
                                    {{i.admin_email}}
                                </div>
                                <div class="dropdown-item text-left">
                                    <i class="fas fa-user-shield"></i>
                                    {{i.admin_role}}
                                </div>
                                <div class="dropdown-item text-center"><button class="btn btn-danger mt-1 mb-1"
                                        (click)="clickLogout()"><a
                                            style=" text-align: center; align-items: center;">Logout</a>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <select class="custom-select"
                            [(ngModel)]="branchModel">
                            <option *ngFor='let b of allbranch'
                                [ngValue]='b'>{{b.branch_name}}</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-4 border">adsf</div>
            </div>
            <!-- Right navbar links -->

        </nav>
        <!-- /.navbar -->

        <!-- Main Sidebar Container -->
        <aside class="main-sidebar sidebar-dark-primary elevation-4">
            <!-- Brand Logo -->
            <a href="/profile-page"
                class="brand-link">
                <img src="assets/dist/img/AdminLTELogo.png"
                    alt="AdminLTE Logo"
                    class="brand-image img-circle elevation-3"
                    style="opacity: .8">
                <span class="brand-text font-weight-light">AdminLTE 3</span>
            </a>

            <!-- Sidebar -->
            <div class="sidebar">
                <!-- Sidebar user (optional) -->
                <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                    <div class="image">
                        <img src="assets/dist/img/maleava.png"
                            class="img-circle elevation-2"
                            alt="User Image">
                    </div>
                    <div class="info">
                        <a *ngFor="let i of infoarr"
                            href="/profile-page"
                            class="d-block">{{i.admin_name}}</a>
                    </div>
                </div>

                <!-- Sidebar Menu -->
                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column"
                        data-widget="treeview"
                        role="menu"
                        data-accordion="false">

                        <li class="nav-header">Sale</li>

                        <li class="nav-item has-treeview menu-open">
                            <a href="/profile-page"
                                class="nav-link active">
                                <i class="nav-icon fas fa-book"></i>
                                <p>
                                    Profile
                                    <i class="fas fa-angle-left right"></i>
                                </p>
                            </a>
                            <ul class="nav nav-treeview">

                                <li class="nav-item">
                                    <a href="/profile-page"
                                        class="nav-link">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p>Profile</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="/sale-page"
                                        class="nav-link active">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p>Sale order</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="/invoice-page"
                                        class="nav-link">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p>Invoice</p>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-treeview">
                            <a href="#"
                                class="nav-link">
                                <i class="nav-icon far fa-plus-square"></i>
                                <p>
                                    Authentication
                                    <i class="fas fa-angle-left right"></i>
                                </p>
                            </a>
                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a href="/login-page"
                                        class="nav-link">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p>Login</p>
                                    </a>
                                </li>
                            </ul>
                        </li>

                        <li class="nav-header">LABELS</li>
                        <li class="nav-item">
                            <a href="#"
                                class="nav-link">
                                <i class="nav-icon far fa-circle text-danger"></i>
                                <p class="text">Important</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/profile-page"
                                class="nav-link">
                                <i class="nav-icon far fa-circle text-warning"></i>
                                <p>Warning</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/profile-page"
                                class="nav-link">
                                <i class="nav-icon far fa-circle text-info"></i>
                                <p>Informational</p>
                            </a>
                        </li>
                    </ul>
                </nav>
                <!-- /.sidebar-menu -->
            </div>
            <!-- /.sidebar -->
        </aside>

        <!-- Content Wrapper. Contains page content *ngIf="searchinput.value !== '' " -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <!-- <section class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">

                        <div class="col-sm-6">
                            <div class="input-group">
                                <div
                                    class="btn-group"
                                    role="group"
                                >
                                    <button
                                        class="btn btn-outline-secondary"
                                        type="button"
                                        (click)="sort_by_product('product_id')"
                                    >ID
                                        <span *ngIf="PRODUCT_SORT===true && CHOSEN_PROPERTY === 'product_id' "><i
                                                class="fas fa-caret-down"
                                            ></i></span>
                                        <span *ngIf="PRODUCT_SORT===false && CHOSEN_PROPERTY === 'product_id' "><i
                                                class="fas fa-caret-up"
                                            ></i></span>
                                        <span *ngIf="CHOSEN_PROPERTY !== 'product_id' "><i
                                                class="fas fa-sort"></i></span>
                                    </button>
                                    <button
                                        class="btn btn-outline-secondary"
                                        type="button"
                                        (click)="sort_by_product('product_bought')"
                                    >Purchase
                                        <span *ngIf="PRODUCT_SORT===true && CHOSEN_PROPERTY === 'product_bought' "><i
                                                class="fas fa-caret-down"
                                            ></i></span>
                                        <span *ngIf="PRODUCT_SORT===false && CHOSEN_PROPERTY === 'product_bought' "><i
                                                class="fas fa-caret-up"
                                            ></i></span>
                                        <span *ngIf="CHOSEN_PROPERTY !== 'product_bought' "><i
                                                class="fas fa-sort"></i></span>
                                    </button>
                                    <button
                                        class="btn btn-outline-secondary"
                                        type="button"
                                        (click)="sort_by_product('product_stock')"
                                    >Stock
                                        <span *ngIf="PRODUCT_SORT===true && CHOSEN_PROPERTY === 'product_stock' "><i
                                                class="fas fa-caret-down"
                                            ></i></span>
                                        <span *ngIf="PRODUCT_SORT===false && CHOSEN_PROPERTY === 'product_stock' "><i
                                                class="fas fa-caret-up"
                                            ></i></span>
                                        <span *ngIf="CHOSEN_PROPERTY !== 'product_stock' "><i
                                                class="fas fa-sort"></i></span>
                                    </button>
                                    <button
                                        class="btn btn-outline-secondary"
                                        type="button"
                                        (click)="sort_by_product('product_updated_at')"
                                    >Update time
                                        <span
                                            *ngIf="PRODUCT_SORT===true && CHOSEN_PROPERTY === 'product_updated_at' "><i
                                                class="fas fa-caret-down"
                                            ></i></span>
                                        <span
                                            *ngIf="PRODUCT_SORT===false && CHOSEN_PROPERTY === 'product_updated_at' "><i
                                                class="fas fa-caret-up"
                                            ></i></span>
                                        <span *ngIf="CHOSEN_PROPERTY !== 'product_updated_at' "><i
                                                class="fas fa-sort"></i></span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="/profile-page">Home</a></li>
                                <li class="breadcrumb-item active">Sale</li>

                            </ol>
                        </div>
                    </div>
                </div>
            </section> -->
            <div class="modal fade bd-example-modal-lg"
                tabindex="-1"
                role="dialog"
                aria-labelledby="myLargeModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title"
                                id="exampleModalLabel">Add customer</h5>
                            <button type="button"
                                class="close"
                                data-dismiss="modal"
                                aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <h2>Main info</h2>
                            <table class="table table-bordered">
                                <tbody>
                                    <tr>
                                        <td><b>Username: </b> </td>
                                        <td><input class="form-control"
                                                #name></td>
                                        <td><b>User ID: </b> </td>
                                        <td><input class="form-control"
                                                #id></td>
                                    </tr>
                                    <tr>
                                        <td><b>Telephone: </b> </td>
                                        <td><input class="form-control"
                                                #telephone></td>
                                        <td><b>Address: </b> </td>
                                        <td><input class="form-control"
                                                #address></td>
                                    </tr>
                                </tbody>
                            </table>

                            <h2>Additional info</h2>
                            <table class="table table-bordered">
                                <tbody>
                                    <tr>
                                        <td><b>Email: </b> </td>
                                        <td><input class="form-control"
                                                #email></td>
                                        <td><b>Role: </b> </td>
                                        <td><input class="form-control"
                                                #role></td>
                                    </tr>
                                    <tr>
                                        <td><b>DOB: </b> </td>
                                        <td><input class="form-control"
                                                #dob></td>
                                        <td><b>Gender: </b> </td>
                                        <td><input class="form-control"
                                                #gender></td>
                                    </tr>
                                    <tr>
                                        <td><b>Additional info</b></td>
                                        <td colspan="3">
                                            <textarea class="form-control"
                                                #info
                                                rows="3"></textarea>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button"
                                class="btn btn-secondary"
                                data-dismiss="modal">Close</button>
                            <button type="button"
                                class="btn btn-primary"
                                (click)="addNewOrderUser(name.value,id.value,telephone.value,address.value,email.value,role.value,dob.value,gender.value,info.value)">Save
                                changes</button>
                        </div>
                    </div>
                </div>
            </div>
            <section class="content">
                <div class="container-fluid ">
                    <div class="row">
                        <div class="col-sm-9 p-0 m-0">
                            <!-- Profile Image -->
                            <div class="card bg-white m-1 p-0 overflow-auto h-50"
                                style="max-height: 500px;min-height: 500px;">
                                <!-- /.card-header -->
                                <nav class="bg-light">
                                    <div class="nav nav-pills d-flex flex-row"
                                        id="nav-tab"
                                        role="tablist">
                                        <a class=" nav-item nav-link"
                                            [ngClass]=""
                                            [attr.id]=" 'navhometab'+x"
                                            data-toggle="tab"
                                            [attr.href]="'#nav-home'+ i"
                                            role="tab"
                                            [attr.aria-controls]="'nav-home'"
                                            aria-selected="true"
                                            *ngFor="let i of temporder; let x= index"
                                            (click)="test(i)">
                                            Order {{i}} <i class="fas fa-times"
                                                (click)="removeTab(x);removeAll(i)"></i>
                                        </a>
                                        <a class="nav-item nav-link "
                                            (click)="addTab()">
                                            <i class="fas fa-plus"></i>
                                        </a>
                                    </div>
                                </nav>
                                <div class="tab-content my-tab"
                                    id="nav-tabContent">
                                    <div class="tab-pane fade show "
                                        [attr.id]="'nav-home'+t"
                                        role="tabpanel"
                                        aria-labelledby="navhometab"
                                        [(ngModel)]="t"
                                        name="fieldName"
                                        ngDefaultControl>
                                        <div class="my-tab-pane"
                                            *ngFor="let item of TAB_ARR">
                                            <div *ngIf="item.tab_id === t">
                                                <div *ngFor="let pro of item.tab_product">
                                                    <div id="tab_item"
                                                        class="card d-flex flex-row bg-white rounded p-0 m-0 border">
                                                        <!-- <div class="col"><img class="myimg"
                                                                        style="max-width: 70px;max-height: 70px;"
                                                                        src="https://picsum.photos/200/100">
                                                                </div>
                                                                <div class="col">
                                                                    <a> <b>Product id:</b> {{pro.product_id}}</a>
                                                                </div>
                                                                <div class="col">
                                                                    <button type="button"
                                                                        class="btn btn-light"
                                                                        (click)=" ADD_AND_MINUS('minus',item,pro)">
                                                                        <i class="fas fa-angle-down"></i>
                                                                    </button>
                                                                    <b>Quantity:</b> {{pro.product_quantity}}
                                                                    <button type="button"
                                                                        class="btn btn-light"
                                                                        (click)=" ADD_AND_MINUS('add',item,pro)">
                                                                        <i class="fas fa-angle-up"></i>
                                                                    </button>
                                                                </div>
                                                                <div class="col">
                                                                    <span *ngFor="let pr of allproduct">
                                                                        <span *ngIf="pr.product_id === pro.product_id">
                                                                            <b>Price: $</b>{{pr?.product_price}}
                                                                        </span>
                                                                    </span>
                                                                </div>
                                                                <div class="col">
                                                                    <span *ngFor="let pr of allproduct">
                                                                        <span *ngIf="pr.product_id === pro.product_id">
                                                                            <b>Total:
                                                                                $</b>{{pro.product_quantity * pr?.product_price}}
                                                                            <button type="button"
                                                                                class="btn btn-danger"
                                                                                (click)=" remove_tabproduct(item,pro)">
                                                                                <i class="fas fa-trash-alt"></i>
                                                                            </button>
                                                                        </span>
                                                                    </span>
                                                                </div> -->
                                                        <table class="table table-sm m-0 p-0">
                                                            <tr class="p-0 m-0 d-flex">
                                                                <td class="col-1 mytd">
                                                                    <img class="myimg border"
                                                                        style="max-width: 70px;max-height: 70px;"
                                                                        src="https://picsum.photos/200">
                                                                </td>
                                                                <td class="col-1 mytd"
                                                                    rowspan="2">
                                                                    <button type="button"
                                                                        class="btn btn-light"
                                                                        (click)=" remove_tabproduct(item,pro)">
                                                                        <i class="fas fa-trash-alt"></i>
                                                                    </button>
                                                                </td>
                                                                <td class="col-4 mytd">
                                                                    <table class="table-borderless m-0 p-0">
                                                                        <tr>
                                                                            <td>
                                                                                <small>Id</small>
                                                                                <h1>{{pro.product_id}}</h1>
                                                                            </td>
                                                                            <td></td>
                                                                            <td>
                                                                                <small>Name</small>
                                                                                <h3><span *ngFor="let pr of allproduct">
                                                                                        <span
                                                                                            *ngIf="pr.product_id === pro.product_id">{{pr?.product_name}}</span>
                                                                                    </span></h3>
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                </td>
                                                                <td class="col-2 mytd">
                                                                    <table class="table-borderless">
                                                                        <tr>
                                                                            <td>
                                                                                <button type="button"
                                                                                    class="btn btn-light"
                                                                                    (click)=" ADD_AND_MINUS('minus',item,pro)">
                                                                                    <i class="fas fa-angle-down"></i>
                                                                                </button>
                                                                            </td>
                                                                            <td>
                                                                                <small>Quantity:</small>
                                                                                <h1>{{pro.product_quantity}}
                                                                                </h1>
                                                                            </td>
                                                                            <td>
                                                                                <button type="button"
                                                                                    class="btn btn-light"
                                                                                    (click)=" ADD_AND_MINUS('add',item,pro)">
                                                                                    <i class="fas fa-angle-up"></i>
                                                                                </button>

                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                </td>
                                                                <td class="col-2 mytd"
                                                                    rowspan="2">
                                                                    <span *ngFor="let pr of allproduct">
                                                                        <span *ngIf="pr.product_id === pro.product_id">
                                                                            <small>Price</small>
                                                                            <h1>${{pr?.product_price}}</h1>
                                                                        </span>
                                                                    </span>
                                                                </td>
                                                                <td class="col-2 mytd"
                                                                    rowspan="2">
                                                                    <span *ngFor="let pr of allproduct">
                                                                        <span *ngIf="pr.product_id === pro.product_id">
                                                                            <small>Total</small>
                                                                            <h1>${{pro.product_quantity * pr?.product_price}}
                                                                            </h1>

                                                                        </span>
                                                                    </span>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- /.card-body -->
                            </div>
                            <div class="card bg-white m-1 p-0 overflow-auto h-50"
                                style="max-height: 500px;min-height: 500px;">
                                <div class="card-header bg-light p-0">
                                    <div style="text-align: right;">
                                        <button class="btn btn-light border"
                                            type="button"
                                            (click)="sort_by_product('product_id')">ID
                                            <span *ngIf="PRODUCT_SORT===true && CHOSEN_PROPERTY === 'product_id' "><i
                                                    class="fas fa-caret-down"></i></span>
                                            <span *ngIf="PRODUCT_SORT===false && CHOSEN_PROPERTY === 'product_id' "><i
                                                    class="fas fa-caret-up"></i></span>
                                            <span *ngIf="CHOSEN_PROPERTY !== 'product_id' "><i
                                                    class="fas fa-sort"></i></span>
                                        </button>
                                        <button class="btn btn-light border"
                                            type="button"
                                            (click)="sort_by_product('product_bought')">Purchase
                                            <span
                                                *ngIf="PRODUCT_SORT===true && CHOSEN_PROPERTY === 'product_bought' "><i
                                                    class="fas fa-caret-down"></i></span>
                                            <span
                                                *ngIf="PRODUCT_SORT===false && CHOSEN_PROPERTY === 'product_bought' "><i
                                                    class="fas fa-caret-up"></i></span>
                                            <span *ngIf="CHOSEN_PROPERTY !== 'product_bought' "><i
                                                    class="fas fa-sort"></i></span>
                                        </button>
                                        <button class="btn btn-light border"
                                            type="button"
                                            (click)="sort_by_product('product_stock')">Stock
                                            <span *ngIf="PRODUCT_SORT===true && CHOSEN_PROPERTY === 'product_stock' "><i
                                                    class="fas fa-caret-down"></i></span>
                                            <span
                                                *ngIf="PRODUCT_SORT===false && CHOSEN_PROPERTY === 'product_stock' "><i
                                                    class="fas fa-caret-up"></i></span>
                                            <span *ngIf="CHOSEN_PROPERTY !== 'product_stock' "><i
                                                    class="fas fa-sort"></i></span>
                                        </button>
                                        <button class="btn btn-light border"
                                            type="button"
                                            (click)="sort_by_product('product_updated_at')">Update time
                                            <span
                                                *ngIf="PRODUCT_SORT===true && CHOSEN_PROPERTY === 'product_updated_at' "><i
                                                    class="fas fa-caret-down"></i></span>
                                            <span
                                                *ngIf="PRODUCT_SORT===false && CHOSEN_PROPERTY === 'product_updated_at' "><i
                                                    class="fas fa-caret-up"></i></span>
                                            <span *ngIf="CHOSEN_PROPERTY !== 'product_updated_at' "><i
                                                    class="fas fa-sort"></i></span>
                                        </button>
                                    </div>
                                </div>
                                <!-- /.card-header -->
                                <div class="card-body overflow-auto">
                                    <div class="row">
                                        <div class="col-sm-2"
                                            *ngFor="let i of allproduct.slice(0,20) | filter:searchProduct"
                                            (click)="chooseProduct(i)">
                                            <div class="card mycard">
                                                <div class="container ">
                                                    <div class="row ">
                                                        <div class="col"
                                                            style="max-width: 200px;max-height: 100px;justify-content: center; display: flex; overflow: hidden; ">
                                                            <img class="card-img"
                                                                style="max-height: 100px; width: auto;"
                                                                src="https://picsum.photos/200/100"
                                                                alt="Card image" />
                                                        </div>
                                                    </div>
                                                    <div class="row"
                                                        aria-rowspan="2">
                                                        <div class="col">
                                                            <a><b>${{i.product_price}}</b>
                                                                <small class="float-right"
                                                                    style="color:red;">{{i.product_stock}}
                                                                    left</small></a>
                                                        </div>
                                                    </div>
                                                    <div class="row"
                                                        aria-rowspan="2">
                                                        <div class="col textover">
                                                            <small>{{i.product_name}} lorem ipsum diasda lorem
                                                                ipsum</small>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- /.card-body -->
                            </div>


                        </div>
                        <!-- <div class="col-sm-9" >
                
                
            </div> -->
                        <div class="col-sm-3 p-0 m-0">
                            <div class="card bg-white m-1 p-0  overflow-auto h-100">
                                <!-- /.card-header -->
                                <h4 class="mt-4"
                                    style="text-align: center;"><b>Order #{{t}}</b></h4>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col">
                                            <h4><b>Customer</b></h4>
                                        </div>
                                        <div class="col">
                                            <div class="input-group mb-3">
                                                <select class="custom-select"
                                                    [(ngModel)]="u"
                                                    name="targetuser"
                                                    (change)="change(u);">
                                                    <option *ngFor="let u of alluser"
                                                        [ngValue]="u">{{u.user_name}}</option>
                                                </select>
                                                <div class="input-group-append">
                                                    <button type="button"
                                                        class="input-group-text bg-success"
                                                        data-toggle="modal"
                                                        data-target=".bd-example-modal-lg">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col">
                                            <h4><b>Ship option</b></h4>
                                        </div>
                                        <div class="col">
                                            <div class="input-group mb-1 ">
                                                <select class="custom-select"
                                                    id="select"
                                                    [(ngModel)]="shipOptionModel"
                                                    name="shipOption"
                                                    (change)="shipOptionAlert(shipOptionModel);">
                                                    <option value="Delivery">Delivery</option>
                                                    <option value="Pickup at store">Pickup at store</option>
                                                </select>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="row"
                                        *ngIf="shipOptionModel === 'Delivery' ">
                                        <div class="col">
                                            <h4><b>Ship fee</b></h4>
                                        </div>
                                        <div class="col">
                                            <div class="input-group mb-1 ">
                                                <input style=" text-align: right;"
                                                    type="number"
                                                    class="form-control col-lg-6 float-right"
                                                    [(ngModel)]="shipFeeModel"
                                                    name="shipFee"
                                                    (blur)="blur_discount_tax()"
                                                    (focus)="blur_discount_tax()">
                                            </div>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col">
                                            <h4><b>Sub total </b></h4>
                                        </div>
                                        <div class="col">
                                            <h1>
                                                <div class="float-right">${{to}}</div>
                                            </h1>
                                        </div>
                                    </div>



                                    <div class="row">
                                        <div class="col">
                                            <h4><b>Discount/Chiet khau </b></h4>
                                        </div>
                                        <div class="col">
                                            <div class="input-group mb-3">
                                                <input [(ngModel)]="discount"
                                                    style=" text-align: right;"
                                                    type="number"
                                                    class="form-control"
                                                    placeholder="$"
                                                    aria-describedby="basic-addon1"
                                                    (blur)="blur_discount_tax()"
                                                    (focus)="blur_discount_tax()">
                                                <div class="input-group-append">
                                                    <span *ngIf='discountType === false'
                                                        class="input-group-text bg-success"
                                                        (click)='setDiscountType();blur_discount_tax()'>
                                                        <i class="fas fa-percentage"></i>
                                                    </span>
                                                    <span *ngIf='discountType === true'
                                                        class="input-group-text bg-success"
                                                        (click)='setDiscountType();blur_discount_tax()'>
                                                        <i class="fas fa-dollar-sign"></i>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col">
                                            <h4><b>Tax </b></h4>
                                        </div>
                                        <div class="col">
                                            <div class="input-group mb-3">
                                                <input [(ngModel)]="taxModel"
                                                    style="text-align: right;"
                                                    type="number"
                                                    class="form-control"
                                                    placeholder="%"
                                                    aria-describedby="basic-addon1"
                                                    (blur)="blur_discount_tax()"
                                                    (focus)="blur_discount_tax()">
                                                <div class="input-group-append">
                                                    <span class="input-group-text">
                                                        <i class="fas fa-percentage"></i>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <hr class="mt-2 mb-2" />

                                    <div class="row">
                                        <div class="col">
                                            <h4><b>Total </b></h4>
                                        </div>
                                        <div class="col">
                                            <h1 *ngIf="tabtotal.length !== 0">
                                                <span class="float-right">
                                                    <div>
                                                        ${{sub}}
                                                    </div>
                                                </span></h1>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col">
                                            <h4><b>Payment option</b></h4>
                                        </div>
                                        <div class="col">
                                            <div class="input-group mb-1 ">
                                                <select class="custom-select"
                                                    [(ngModel)]="paymentOptionModel"
                                                    name="shipOption">
                                                    <option>Credit card</option>
                                                    <option>Cash</option>
                                                    <option>Bank transfer</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="exampleFormControlTextarea1">Additional info</label>
                                                <textarea [(ngModel)]="infoModel"
                                                    class="form-control"
                                                    id="exampleFormControlTextarea1"
                                                    rows="3"></textarea>
                                            </div>
                                        </div>

                                    </div>
                                    <span class="badge badge-pill badge-primary">Primary</span>

                                    <div class="row">
                                        <button class="btn btn-success btn-block"
                                            (click)="payandprint()">
                                            <i class="far fa-credit-card"></i>
                                            Pay and print</button>
                                    </div>
                                </div>
                                <!-- /.card-body -->

                            </div>
                        </div>
                    </div>

                </div>
            </section>
            <!-- Main content -->

            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->


        <!-- Control Sidebar -->
        <aside class="control-sidebar control-sidebar-dark">
            <!-- Control sidebar content goes here -->
        </aside>
        <!-- /.control-sidebar -->
    </div>
    <!-- ./wrapper -->

</body>

</html>